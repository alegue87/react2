{"ast":null,"code":"import axios from 'axios';\n\nconst _require = require('../../config'),\n      BASE_URL = _require.BASE_URL;\n\nexport default class LoginService {\n  login(username, password, onSuccess, onError) {\n    axios.defaults.withCredentials = true;\n    axios.post(BASE_URL + '/login', {\n      username: username,\n      password: password,\n      headers: {\n        withCredentials: true\n      }\n    }).then(function (result) {\n      if (result.data.loginSuccess) {\n        console.log(\"Login effettuato, token\" + result.data.token);\n        onSuccess(username, result.data.token, result.data.sessionId);\n      } else {\n        onError('Username o password errati');\n      }\n    }, function (error) {\n      console.error(\"Errore durante il login: \" + error);\n      onError(error);\n    });\n  }\n\n}","map":{"version":3,"sources":["/home/alessio/dev/react2/react2/src/components/login/loginService.js"],"names":["axios","require","BASE_URL","LoginService","login","username","password","onSuccess","onError","defaults","withCredentials","post","headers","then","result","data","loginSuccess","console","log","token","sessionId","error"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;;iBACmBC,OAAO,CAAC,cAAD,C;MAAnBC,Q,YAAAA,Q;;AAEP,eAAe,MAAMC,YAAN,CAAkB;AAC7BC,EAAAA,KAAK,CAACC,QAAD,EAAWC,QAAX,EAAqBC,SAArB,EAAgCC,OAAhC,EAAwC;AACzCR,IAAAA,KAAK,CAACS,QAAN,CAAeC,eAAf,GAAiC,IAAjC;AACAV,IAAAA,KAAK,CAACW,IAAN,CAAWT,QAAQ,GAAC,QAApB,EAA8B;AACtBG,MAAAA,QAAQ,EAACA,QADa;AACHC,MAAAA,QAAQ,EAAEA,QADP;AAEtBM,MAAAA,OAAO,EAAC;AAAEF,QAAAA,eAAe,EAAC;AAAlB;AAFc,KAA9B,EAIKG,IAJL,CAIU,UAASC,MAAT,EAAgB;AAClB,UAAGA,MAAM,CAACC,IAAP,CAAYC,YAAf,EAA4B;AACzBC,QAAAA,OAAO,CAACC,GAAR,CAAY,4BAA4BJ,MAAM,CAACC,IAAP,CAAYI,KAApD;AACCZ,QAAAA,SAAS,CAACF,QAAD,EAAWS,MAAM,CAACC,IAAP,CAAYI,KAAvB,EAA8BL,MAAM,CAACC,IAAP,CAAYK,SAA1C,CAAT;AACH,OAHD,MAII;AACAZ,QAAAA,OAAO,CAAC,4BAAD,CAAP;AACH;AACJ,KAZL,EAYM,UAASa,KAAT,EAAe;AACbJ,MAAAA,OAAO,CAACI,KAAR,CAAc,8BAA4BA,KAA1C;AACAb,MAAAA,OAAO,CAACa,KAAD,CAAP;AACH,KAfL;AAgBH;;AAnB4B","sourcesContent":["import axios from 'axios';\nconst {BASE_URL} = require('../../config');\n\nexport default class LoginService{\n    login(username, password, onSuccess, onError){\n        axios.defaults.withCredentials = true;\n        axios.post(BASE_URL+'/login', {\n                username:username, password: password,\n                headers:{ withCredentials:true}\n            })\n            .then(function(result){\n                if(result.data.loginSuccess){\n                   console.log(\"Login effettuato, token\" + result.data.token)\n                    onSuccess(username, result.data.token, result.data.sessionId) \n                }\n                else{\n                    onError('Username o password errati')\n                }\n            },function(error){\n                console.error(\"Errore durante il login: \"+error)\n                onError(error)\n            })\n    }\n}"]},"metadata":{},"sourceType":"module"}