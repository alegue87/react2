{"ast":null,"code":"var _jsxFileName = \"/home/alessio/dev/react2/react2/src/components/dashboard/dashboard.js\";\nimport React from 'react';\nimport DashRender from './dashboardRender';\nimport DashboardService from './dashboardService';\nimport Cookie from 'universal-cookie';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport TextField from '@material-ui/core/TextField';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Button from '@material-ui/core/Button';\nexport default class Dashboard extends React.Component {\n  constructor(props) {\n    super(props);\n    this.year = new Date().getFullYear();\n    this.month = new Date().getMonth() + 1;\n    this.state = {\n      data: []\n    };\n    this.initDashboard.bind(this)();\n  }\n\n  initDashboard() {\n    const cookie = new Cookie();\n    const token = cookie.get('token');\n    const username = cookie.get('username');\n    const dashboardService = new DashboardService();\n    dashboardService.getDashboard(token, username, this.year, this.month, this.onSuccess.bind(this), this.onError.bind(this));\n  }\n\n  onSuccess(data) {\n    this.setState({\n      data: data\n    });\n    console.log(\"dati arrivati\");\n  }\n\n  onError(error) {\n    console.log(error);\n  }\n\n  selectChangeYear(event) {\n    this.year = event.target.value;\n  }\n\n  selectChangeMonth(event) {\n    this.month = event.target.value;\n  }\n\n  render() {\n    var years = [{\n      value: 2020,\n      label: '2020'\n    }, {\n      value: 2021,\n      label: '2021'\n    }, {\n      value: 2022,\n      label: '2022'\n    }, {\n      value: 2023,\n      label: '2023'\n    }];\n    var months = [{\n      value: 1,\n      label: 'Gennaio'\n    }, {\n      value: 2,\n      label: 'Febbraio'\n    }, {\n      value: 3,\n      label: 'Marzo'\n    }, {\n      value: 4,\n      label: 'Aprile'\n    }, {\n      value: 5,\n      label: 'Maggio'\n    }, {\n      value: 6,\n      label: 'Giugno'\n    }, {\n      value: 7,\n      label: 'Luglio'\n    }, {\n      value: 8,\n      label: 'Agosto'\n    }, {\n      value: 9,\n      label: 'Settembre'\n    }, {\n      value: 10,\n      label: 'Ottobre'\n    }, {\n      value: 11,\n      label: 'Novembre'\n    }, {\n      value: 12,\n      label: 'Dicembre'\n    }];\n    return React.createElement(Grid, {\n      container: true,\n      spacing: 1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      md: 12,\n      lg: 2,\n      style: {\n        marginTop: \"96px\",\n        paddingLeft: \"65px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(Paper, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(TextField, {\n      id: \"select_year\",\n      select: true,\n      value: this.year,\n      helperText: \"Anno\",\n      onChange: this.selectChangeYear.bind(this),\n      style: {\n        width: \"100%\",\n        padding: \"5px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, years.map(year => React.createElement(MenuItem, {\n      key: year.value,\n      value: year.value,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, year.label))), React.createElement(TextField, {\n      id: \"select_month\",\n      select: true,\n      value: this.month,\n      helperText: \"Mese\",\n      style: {\n        width: \"100%\",\n        padding: \"5px\"\n      },\n      onChange: this.selectChangeMonth.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, months.map(month => React.createElement(MenuItem, {\n      key: month.value,\n      value: month.value,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, month.label))), React.createElement(Button, {\n      variant: \"contained\",\n      color: \"primary\",\n      onClick: this.initDashboard.bind(this),\n      style: {\n        margin: '5px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \"Applica\"))), React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      md: 12,\n      lg: 10,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(DashRender, {\n      data: this.state.data,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    })));\n  }\n\n}","map":{"version":3,"sources":["/home/alessio/dev/react2/react2/src/components/dashboard/dashboard.js"],"names":["React","DashRender","DashboardService","Cookie","Grid","Paper","TextField","MenuItem","Button","Dashboard","Component","constructor","props","year","Date","getFullYear","month","getMonth","state","data","initDashboard","bind","cookie","token","get","username","dashboardService","getDashboard","onSuccess","onError","setState","console","log","error","selectChangeYear","event","target","value","selectChangeMonth","render","years","label","months","marginTop","paddingLeft","width","padding","map","margin"],"mappings":"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","sourcesContent":["import React from 'react';\nimport DashRender from './dashboardRender';\nimport DashboardService from './dashboardService';\nimport Cookie from 'universal-cookie';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport TextField from '@material-ui/core/TextField';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Button from '@material-ui/core/Button';\n\nexport default class Dashboard extends React.Component{\n    constructor(props){\n        super(props)        \n        this.year = new Date().getFullYear()\n        this.month = new Date().getMonth()+1\n        this.state = {\n            data: []\n        }\n        this.initDashboard.bind(this)()\n    }\n    initDashboard(){\n        const cookie = new Cookie();\n        const token = cookie.get('token');\n        const username = cookie.get('username');\n        const dashboardService = new DashboardService();\n        dashboardService.getDashboard(\n            token, \n            username, \n            this.year, \n            this.month,\n            this.onSuccess.bind(this), \n            this.onError.bind(this)\n        );     \n    }\n    onSuccess(data){\n        this.setState({data:data})\n        console.log(\"dati arrivati\")\n    }\n    onError(error){\n        console.log(error)\n    }\n    selectChangeYear(event){\n        this.year = event.target.value\n    }\n    selectChangeMonth(event){\n        this.month = event.target.value\n    }\n    render(){\n        var years = [ \n            {value:2020, label:'2020'},\n            {value:2021, label:'2021'},\n            {value:2022, label:'2022'},\n            {value:2023, label:'2023'}\n        ]\n        var months = [\n            {value:1, label:'Gennaio'},\n            {value:2, label:'Febbraio'},\n            {value:3, label:'Marzo'},\n            {value:4, label:'Aprile'},\n            {value:5, label:'Maggio'},\n            {value:6, label:'Giugno'},\n            {value:7, label:'Luglio'},\n            {value:8, label:'Agosto'},\n            {value:9, label:'Settembre'},\n            {value:10, label:'Ottobre'},\n            {value:11, label:'Novembre'},\n            {value:12, label:'Dicembre'}\n        ]\n        return(\n            <Grid container spacing={1}>\n                <Grid item xs={12} md={12} lg={2} style={{marginTop:\"96px\", paddingLeft:\"65px\"}}>\n                    <Paper>\n                        <TextField\n                        id=\"select_year\"\n                        select\n                        value={this.year}\n                        helperText=\"Anno\"\n                        onChange={this.selectChangeYear.bind(this)}\n                        style={{width:\"100%\", padding:\"5px\"}}\n                        >\n                            {years.map( year => (\n                                <MenuItem key={year.value} value={year.value}>\n                                    {year.label}\n                                </MenuItem>\n                            ))}\n                        </TextField>\n                        <TextField\n                        id=\"select_month\"\n                        select\n                        value={this.month}\n                        helperText=\"Mese\"\n                        style={{width:\"100%\", padding:\"5px\"}}\n                        onChange={this.selectChangeMonth.bind(this)}\n                        >\n                            {months.map( month => (\n                                <MenuItem key={month.value} value={month.value}>\n                                    {month.label}\n                                </MenuItem>\n                            ))}\n                        </TextField>\n                        <Button variant=\"contained\" color=\"primary\"\n                            onClick={this.initDashboard.bind(this)}\n                            style={{margin:'5px'}}\n                        >\n                            Applica\n                        </Button>\n                    </Paper>\n                </Grid>\n                <Grid item xs={12} md={12} lg={10}>\n                    <DashRender data={this.state.data}/>  \n                </Grid>  \n            </Grid>\n           \n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}