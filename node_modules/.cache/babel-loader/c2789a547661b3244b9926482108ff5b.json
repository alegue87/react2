{"ast":null,"code":"var _jsxFileName = \"/home/alessio/dev/react2/react2/src/components/history/history.js\";\nimport React from 'react';\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\nimport Grid from '@material-ui/core/Grid';\nimport Container from '@material-ui/core/Container';\nimport IconButton from '@material-ui/core/IconButton';\nimport Paper from '@material-ui/core/Paper';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport axios from 'axios';\nimport Cookie from 'universal-cookie';\n\nconst _require = require('../../config'),\n      BASE_URL = _require.BASE_URL,\n      HOST_PORT = _require.HOST_PORT;\n\nexport default class History extends React.Component {\n  constructor(props) {\n    super(props);\n    console.log(props);\n    this.state = {\n      image: '',\n      imagesData: [],\n      imageIndex: 0\n    };\n    var cookie = new Cookie();\n    this.username = cookie.get('username');\n    this.pair = this.props.history.location.pathname.split('/')[2];\n    this.month = 1;\n    this.year = 2020;\n  }\n\n  previousImage() {\n    if (this.state.imageIndex == 0) {\n      this.setState({\n        imageIndex: this.state.imagesData.length - 1\n      });\n    } else {\n      this.setState({\n        imageIndex: this.state.imageIndex - 1\n      });\n    }\n  }\n\n  nextImage() {\n    if (this.state.imageIndex == this.state.imagesData.length - 1) {\n      this.setState({\n        imageIndex: 0\n      });\n    } else {\n      this.setState({\n        imageIndex: this.state.imageIndex + 1\n      });\n    }\n  }\n\n  componentDidMount() {\n    var that = this;\n    axios.get(BASE_URL + '/imagesData', {\n      params: {\n        username: that.username,\n        pair: that.pair,\n        month: that.month,\n        year: that.year\n      }\n    }).then(function (result) {\n      console.log(result);\n      that.setState({\n        imagesData: result.data\n      });\n    }, function (error) {\n      console.log(error);\n    });\n  }\n\n  render() {\n    var image = \"\",\n        period = \"Periodo: \",\n        datetime = \"Data ora: \",\n        balance = \"Balance: \",\n        equity = \"Equity: \",\n        leverage = \"Leverage: \",\n        free_margin = \"Margine libero: \",\n        profit = \"Profitto: \";\n\n    if (this.state.imagesData[0] != undefined) {\n      image = HOST_PORT + '/' + this.username + '/' + this.pair + '/' + this.state.imagesData[this.state.imageIndex].filename;\n      var data = this.state.imagesData[this.state.imageIndex];\n      var dt = new Date(data.datetime);\n      period += data.period + ' M'; // Da prendere nel modo corretto\n\n      datetime += dt.getDate() + '-' + (dt.getMonth() + 1) + '-' + dt.getFullYear() + ' ' + dt.getHours() + ':' + dt.getMinutes() + ':' + dt.getSeconds();\n      balance += data.balance + ' €';\n      equity += data.equity;\n      leverage += \"1:\" + data.leverage;\n      free_margin += Math.floor(data.free_margin);\n      profit += data.profit + ' €';\n    }\n\n    return React.createElement(\"div\", {\n      style: {\n        paddingTop: '70px',\n        width: '100%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(Container, {\n      width: \"xl\",\n      maxWidth: \"xl\",\n      style: {\n        height: '600px',\n        margin: '0px',\n        padding: '0px',\n        display: 'flex'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      container: true,\n      spacing: 0,\n      width: \"lg\",\n      style: {\n        height: 'inherit'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      sm: 2,\n      lg: 2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(Paper, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(List, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(ListItem, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(ListItemText, {\n      primary: period,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    })), React.createElement(ListItem, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(ListItemText, {\n      primary: datetime,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    })), React.createElement(ListItem, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(ListItemText, {\n      primary: balance,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    })), React.createElement(ListItem, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(ListItemText, {\n      primary: equity,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    })), React.createElement(ListItem, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(ListItemText, {\n      primary: leverage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    })), React.createElement(ListItem, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(ListItemText, {\n      primary: free_margin,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    })), React.createElement(ListItem, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(ListItemText, {\n      primary: profit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }), \" \")))), React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      sm: 1,\n      lg: 1,\n      style: {\n        margin: 'auto',\n        textAlign: 'center'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(IconButton, {\n      onClick: this.previousImage.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(ChevronLeftIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }))), React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      sm: 8,\n      lg: 8,\n      style: {\n        margin: 'auto',\n        textAlign: 'center',\n        display: 'flex'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(Paper, {\n      style: {\n        padding: '5px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: image,\n      alt: \"\",\n      style: {\n        maxWidth: \"100%\",\n        display: 'flex'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }))), React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      sm: 1,\n      lg: 1,\n      style: {\n        margin: 'auto',\n        textAlign: 'center'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, React.createElement(IconButton, {\n      onClick: this.nextImage.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(ChevronRightIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }))), React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      sm: 12,\n      lg: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }))));\n  }\n\n}","map":{"version":3,"sources":["/home/alessio/dev/react2/react2/src/components/history/history.js"],"names":["React","ChevronLeftIcon","ChevronRightIcon","Grid","Container","IconButton","Paper","List","ListItem","ListItemText","axios","Cookie","require","BASE_URL","HOST_PORT","History","Component","constructor","props","console","log","state","image","imagesData","imageIndex","cookie","username","get","pair","history","location","pathname","split","month","year","previousImage","setState","length","nextImage","componentDidMount","that","params","then","result","data","error","render","period","datetime","balance","equity","leverage","free_margin","profit","undefined","filename","dt","Date","getDate","getMonth","getFullYear","getHours","getMinutes","getSeconds","Math","floor","paddingTop","width","height","margin","padding","display","textAlign","bind","maxWidth"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\nimport Grid from '@material-ui/core/Grid';\nimport Container from '@material-ui/core/Container';\nimport IconButton from '@material-ui/core/IconButton';\nimport Paper from '@material-ui/core/Paper';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport axios from 'axios';\nimport Cookie from 'universal-cookie';\nconst { BASE_URL, HOST_PORT } = require('../../config');\n\nexport default class History extends React.Component {\n    constructor(props) {\n        super(props)\n        console.log(props)\n        this.state = {\n            image: '',\n            imagesData:[],\n            imageIndex:0\n        }\n        var cookie = new Cookie();\n        this.username = cookie.get('username');\n        this.pair = this.props.history.location.pathname.split('/')[2]\n        this.month = 1;\n        this.year = 2020;\n    }\n    previousImage(){\n        if(this.state.imageIndex == 0){\n            this.setState({imageIndex: this.state.imagesData.length-1})\n        }\n        else{\n            this.setState({imageIndex: this.state.imageIndex-1})\n        }\n    }\n    nextImage(){\n        if(this.state.imageIndex == this.state.imagesData.length-1)\n        {\n            this.setState({imageIndex: 0})\n        }\n        else{\n            this.setState({imageIndex: this.state.imageIndex+1})    \n        }\n    }\n\n    componentDidMount() {\n        var that = this\n        axios.get(BASE_URL + '/imagesData', { params: { \n                username: that.username, \n                pair: that.pair,\n                month: that.month,\n                year: that.year\n            } }).then(\n            function (result) {\n                console.log(result)\n                that.setState({imagesData: result.data})\n            },\n            function (error) {\n                console.log(error)\n            }\n        )\n    }\n    render() {\n        var image = \"\",\n            period = \"Periodo: \", \n            datetime = \"Data ora: \", \n            balance = \"Balance: \", \n            equity = \"Equity: \", \n            leverage = \"Leverage: \", \n            free_margin = \"Margine libero: \", \n            profit = \"Profitto: \";\n\n        if(this.state.imagesData[0] != undefined){\n            image = HOST_PORT+'/'+this.username+'/'+this.pair+'/'+this.state.imagesData[this.state.imageIndex].filename;\n            var data = this.state.imagesData[this.state.imageIndex]\n            var dt = new Date(data.datetime)\n            period += data.period +' M' // Da prendere nel modo corretto\n            datetime += dt.getDate()+'-'+(dt.getMonth()+1)+'-'+dt.getFullYear()+' '+dt.getHours()+':'+dt.getMinutes()+':'+dt.getSeconds()\n            balance += data.balance + ' €'\n            equity += data.equity\n            leverage += \"1:\"+data.leverage\n            free_margin += Math.floor(data.free_margin)\n            profit += data.profit +' €'\n        }\n        return (\n            <div style={{ paddingTop: '70px', width: '100%' }}>\n                <Container width='xl' maxWidth='xl' style={{ height: '600px', margin: '0px', padding: '0px', display: 'flex' }}>\n                    <Grid container spacing={0} width='lg' style={{ height: 'inherit', }}>\n                        <Grid item xs={12} sm={2} lg={2}>\n                            <Paper>\n                                <List>\n                                    <ListItem><ListItemText primary={period}/></ListItem>\n                                    <ListItem><ListItemText primary={datetime}/></ListItem>\n                                    <ListItem><ListItemText primary={balance}/></ListItem>\n                                    <ListItem><ListItemText primary={equity}/></ListItem>\n                                    <ListItem><ListItemText primary={leverage}/></ListItem>\n                                    <ListItem><ListItemText primary={free_margin}/></ListItem>\n                                    <ListItem><ListItemText primary={profit}/> </ListItem>\n                                </List>\n                            </Paper>\n\n                        </Grid>\n                        <Grid item xs={12} sm={1} lg={1} style={{ margin: 'auto', textAlign: 'center' }}>\n                            <IconButton\n                                onClick={this.previousImage.bind(this)}\n                            ><ChevronLeftIcon /></IconButton>\n                        </Grid>\n                        <Grid item xs={12} sm={8} lg={8} style={{ margin: 'auto', textAlign: 'center', display: 'flex' }}>\n                            <Paper style={{padding:'5px'}}>\n                                <img src={image} alt=\"\" style={{ maxWidth: \"100%\", display: 'flex' }} />   \n                            </Paper>\n                        </Grid>                       \n                        <Grid item xs={12} sm={1} lg={1} style={{ margin: 'auto', textAlign: 'center' }}>\n                            <IconButton\n                                onClick={this.nextImage.bind(this)}\n                            ><ChevronRightIcon />\n                            </IconButton>\n                        </Grid>\n                        <Grid item xs={12} sm={12} lg={12}></Grid>\n                    </Grid>\n                </Container>\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}