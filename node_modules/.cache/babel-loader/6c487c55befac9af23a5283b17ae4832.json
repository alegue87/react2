{"ast":null,"code":"var _jsxFileName = \"/home/alessio/dev/react2/react2/src/components/history/history.js\";\nimport React from 'react';\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\nimport Grid from '@material-ui/core/Grid';\nimport Container from '@material-ui/core/Container';\nimport IconButton from '@material-ui/core/IconButton';\nimport Paper from '@material-ui/core/Paper';\nimport axios from 'axios';\nimport Cookie from 'universal-cookie';\n\nconst _require = require('../../config'),\n      BASE_URL = _require.BASE_URL,\n      HOST_PORT = _require.HOST_PORT;\n\nexport default class History extends React.Component {\n  constructor(props) {\n    super(props);\n    console.log(props);\n    this.state = {\n      image: '',\n      imagesData: [],\n      imageIndex: 0\n    };\n    var cookie = new Cookie();\n    var username = cookie.get('username');\n    this.pair = this.props.history.location.pathname.split('/')[2];\n    this.month = 1;\n    this.year = 2020;\n  }\n\n  previousImage() {\n    if (this.state.imageIndex == 0) {\n      this.setState({\n        imageIndex: this.imageData.length - 1\n      });\n    } else {\n      this.setState({\n        imageIndex: this.state.imageIndex - 1\n      });\n    }\n  }\n\n  nextImage() {\n    if (this.state.imageIndex == this.state.imagesData.length) {\n      this.setState({\n        imageIndex: 0\n      });\n    } else {\n      this.setState({\n        imageIndex: this.state.imageIndex + 1\n      });\n    }\n  }\n\n  componentDidMount() {\n    axios.get(BASE_URL + '/imagesData', {\n      params: {\n        username: this.username,\n        pair: this.pair,\n        month: this.month,\n        year: this.year\n      }\n    }).then(function (result) {\n      console.log(result);\n      that.setState({\n        imagesData: result.data\n      });\n    }, function (error) {\n      console.log(error);\n    });\n  }\n\n  render() {\n    var image = HOST_PORT + '/' + username + '/' + pair + '/' + this.state.imagesData[this.state.imageIndex].filename;\n    return React.createElement(\"div\", {\n      style: {\n        paddingTop: '70px',\n        width: '100%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(Container, {\n      width: \"xl\",\n      maxWidth: \"xl\",\n      style: {\n        height: '600px',\n        margin: '0px',\n        padding: '0px',\n        display: 'flex'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      container: true,\n      spacing: 0,\n      width: \"lg\",\n      style: {\n        height: 'inherit'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      sm: 2,\n      lg: 2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }), React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      sm: 1,\n      lg: 1,\n      style: {\n        margin: 'auto',\n        textAlign: 'center'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(IconButton, {\n      onClick: this.previousImage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(ChevronLeftIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }))), React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      sm: 8,\n      lg: 8,\n      style: {\n        margin: 'auto',\n        textAlign: 'center',\n        display: 'flex'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(Paper, {\n      style: {\n        padding: '5px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: image,\n      alt: \"\",\n      style: {\n        maxWidth: \"100%\",\n        display: 'flex'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }))), React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      sm: 1,\n      lg: 1,\n      style: {\n        margin: 'auto',\n        textAlign: 'center'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(IconButton, {\n      onClick: this.nextImage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(ChevronRightIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }))), React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      sm: 12,\n      lg: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }))));\n  }\n\n}","map":{"version":3,"sources":["/home/alessio/dev/react2/react2/src/components/history/history.js"],"names":["React","ChevronLeftIcon","ChevronRightIcon","Grid","Container","IconButton","Paper","axios","Cookie","require","BASE_URL","HOST_PORT","History","Component","constructor","props","console","log","state","image","imagesData","imageIndex","cookie","username","get","pair","history","location","pathname","split","month","year","previousImage","setState","imageData","length","nextImage","componentDidMount","params","then","result","that","data","error","render","filename","paddingTop","width","height","margin","padding","display","textAlign","maxWidth"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\nimport Grid from '@material-ui/core/Grid';\nimport Container from '@material-ui/core/Container';\nimport IconButton from '@material-ui/core/IconButton';\nimport Paper from '@material-ui/core/Paper';\nimport axios from 'axios';\nimport Cookie from 'universal-cookie';\nconst { BASE_URL, HOST_PORT } = require('../../config');\n\nexport default class History extends React.Component {\n    constructor(props) {\n        super(props)\n        console.log(props)\n        this.state = {\n            image: '',\n            imagesData:[],\n            imageIndex:0\n        }\n        var cookie = new Cookie();\n        var username = cookie.get('username');\n        this.pair = this.props.history.location.pathname.split('/')[2]\n        this.month = 1;\n        this.year = 2020;\n    }\n    previousImage(){\n        if(this.state.imageIndex == 0){\n            this.setState({imageIndex: this.imageData.length-1})\n        }\n        else{\n            this.setState({imageIndex: this.state.imageIndex-1})\n        }\n    }\n    nextImage(){\n        if(this.state.imageIndex == this.state.imagesData.length)\n        {\n            this.setState({imageIndex: 0})\n        }\n        else{\n            this.setState({imageIndex: this.state.imageIndex+1})    \n        }\n    }\n\n    componentDidMount() {\n        axios.get(BASE_URL + '/imagesData', { params: { \n                username: this.username, \n                pair: this.pair,\n                month: this.month,\n                year: this.year\n            } }).then(\n            function (result) {\n                console.log(result)\n                that.setState({imagesData: result.data})\n            },\n            function (error) {\n                console.log(error)\n            }\n        )\n    }\n    render() {\n\n        var image = HOST_PORT+'/'+username+'/'+pair+'/'+this.state.imagesData[this.state.imageIndex].filename;\n        return (\n            <div style={{ paddingTop: '70px', width: '100%' }}>\n                <Container width='xl' maxWidth='xl' style={{ height: '600px', margin: '0px', padding: '0px', display: 'flex' }}>\n                    <Grid container spacing={0} width='lg' style={{ height: 'inherit', }}>\n                        <Grid item xs={12} sm={2} lg={2}></Grid>\n                        <Grid item xs={12} sm={1} lg={1} style={{ margin: 'auto', textAlign: 'center' }}>\n                            <IconButton\n                                onClick={this.previousImage}\n                            ><ChevronLeftIcon /></IconButton>\n                        </Grid>\n                        <Grid item xs={12} sm={8} lg={8} style={{ margin: 'auto', textAlign: 'center', display: 'flex' }}>\n                            <Paper style={{padding:'5px'}}>\n                                <img src={image} alt=\"\" style={{ maxWidth: \"100%\", display: 'flex' }} />   \n                            </Paper>\n                        </Grid>                       \n                        <Grid item xs={12} sm={1} lg={1} style={{ margin: 'auto', textAlign: 'center' }}>\n                            <IconButton\n                                onClick={this.nextImage}\n                            ><ChevronRightIcon />\n                            </IconButton>\n                        </Grid>\n                        <Grid item xs={12} sm={12} lg={12}></Grid>\n                    </Grid>\n                </Container>\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}